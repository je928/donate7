<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="second">
	<!-- Use type aliases to avoid typing the full classname every time. -->
	<resultMap id="SecondResult" type="second">
		<result property="sh_no" column="sh_no" />
		<result property="sh_title" column="sh_title" />
		<result property="sh_category" column="sh_category" />
		<result property="sh_explanation" column="sh_explanation" />
		<result property="sh_reg_date" column="sh_reg_date" />
		<result property="passh_imageswd" column="sh_image" />
		<result property="sh_approve" column="sh_approve" />
		<result property="sh_arrive" column="sh_arrive" />
	</resultMap>
	<insert id="insert" parameterType="second">
		insert into second values
		(#{sh_no},#{sh_title},#{sh_category},
		#{sh_explanation}, sysdate, #{sh_image},'n','n')
	</insert>
	<!-- <select id="list" parameterType="board" resultMap="BoardResult">
		select * from (select rownum rn,a.* from
		(select * from board1
		<if test="keyword != null">
			<where>
				${search} like '%'||#{keyword}||'%'
				and del_yn !='y'
			</where>
		</if>
		order by ref desc, re_step) a)
		where rn between #{startRow} and
		#{endRow}
	</select>
	<select id="getTotal" parameterType="board" resultType="int">
		select count(*) from board1
		<if test="keyword != null">
			<where>
				${search} like '%' ||#{keyword}||'%'
				and del_yn !='y'
			</where>
		</if>
	</select>
	<select id="getNumber" resultType="int">
		select nvl(max(num),0) + 1
		from board1
	</select>
	<select id="select" parameterType="int" resultType="board">
		select * from
		board1 where num=#{num}
	</select>
	<update id="updateReadCount" parameterType="int">
		update board1 set
		readcount=readcount + 1 where num=#{num}
	</update>
	<update id="delete" parameterType="int">
		update board1 set del_yn='y'
		where num=#{num}
	</update>
	<update id="updateRe_step" parameterType="board">
		update board1 set re_step = re_step+1
		where ref=#{ref} and re_step > #{re_step}
	</update> -->
</mapper>